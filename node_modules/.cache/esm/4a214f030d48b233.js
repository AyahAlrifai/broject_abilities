let http,url,fs;_0d4‍.w("http",[["default",["http"],function(v){http=v}]]);_0d4‍.w("url",[["default",["url"],function(v){url=v}]]);_0d4‍.w("fs",[["default",["fs"],function(v){fs=v}]]);



// http.createServer((req, res)=> {
//   res.write("<h1>Hello world</h1>");
//   try {
//     fs.renameSync('name.txt', 'name.txt');
//     res.write("<h2>Hello world</h2>")
//   } catch (err) {
//     console.error(err)
//   }
//   res.write("<h3>Hello world</h3>");
//   res.end();
// }).listen(8081);

http.createServer((req,res)=>{
  var data=readFile("name.txt");
  res.write(data)
}).listen(8081);;

const readFile=async (filePath)=>{
  try {
    const data = await fs.readFile(filePath);
    return data.toString();
  } catch (error) {
    return `Got an error trying to read the file: ${error.message}`;
  }
};
